<div ng-controller="GroupListCtrl as ctrl" class="pull-right dropdown">
  <span role="button" class="dropdown-toggle" data-toggle="dropdown">
    <i ng-if="ctrl.focusedGroup().hashid == '__public__'"
       class="h-icon-public"></i>
    <i ng-if="ctrl.focusedGroup().hashid != '__public__'"
       class="h-icon-group"></i>
    {{ctrl.focusedGroup().name}}
    <i class="h-icon-arrow-drop-down"></i>
  </span>
  <ul class="dropdown-menu pull-right" role="menu">
    <li ng-repeat="group in ctrl.groups()"
        ng-class="group.hashid == ctrl.focusedGroup().hashid? 'selected' : ''">
      <a class="group-name"  ng-click="ctrl.focusGroup(group.hashid)">
        <i ng-if="group.hashid == '__public__'" class="h-icon-public"></i>
        <i ng-if="group.hashid != '__public__'" class="h-icon-group"></i>
        {{group.name}}
      </a>
      <a ng-href="{{group.url}}" target="_blank" class="h-icon-link"
         title="Share this group"></a>
    </li>
    <li>
      <a href="/groups/new" target="_blank"><i class="h-icon-add"></i>
      New Group</a>
    </li>
  </ul>
</div>
